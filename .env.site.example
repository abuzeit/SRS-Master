# =============================================================================
# SRS Master â€” Remote Site Environment Configuration
# =============================================================================
#
# Copy this file to .env on each remote site VM.
# Each site MUST have a unique NODE_ID.
#
# Setup:
#   1. Copy: cp .env.site.example .env
#   2. Edit NODE_ID, PLANT_ID, AREA_ID, KAFKA_BROKERS
#   3. Start: docker compose -f docker-compose.site.yml up -d
# =============================================================================

# --- Site Identity (MUST be unique per site) ---
NODE_ID=1
PLANT_ID=PLANT01
AREA_ID=AREA01

# --- Master Station Kafka Brokers ---
# Set to the Master Proxmox server IP(s) and ports.
#
# Single master server:
#   KAFKA_BROKERS=192.168.1.100:9092,192.168.1.100:9094,192.168.1.100:9095
#
# 2-server HA:
#   KAFKA_BROKERS=192.168.1.100:9092,192.168.1.100:9094,192.168.1.101:9092
#
# 3-server HA (recommended):
#   KAFKA_BROKERS=192.168.1.100:9092,192.168.1.101:9092,192.168.1.102:9092
KAFKA_BROKERS=192.168.1.100:9092,192.168.1.100:9094,192.168.1.100:9095

# --- Local Outbox Database ---
PRODUCER_DB_PASSWORD=producer-db-secret
OUTBOX_PG_PORT=5433

# --- Producer Tuning ---
PRODUCER_INTERVAL_MS=1000

# --- Outbox Dispatcher Tuning ---
OUTBOX_BATCH_SIZE=50
OUTBOX_POLL_INTERVAL_MS=500
OUTBOX_MAX_RETRIES=10
OUTBOX_LOCK_TIMEOUT_SECONDS=120
OUTBOX_RECOVERY_INTERVAL_MS=30000

# --- Logging ---
LOG_LEVEL=info

# --- TLS/SASL (uncomment for production) ---
# KAFKA_SASL_USERNAME=producer-user
# KAFKA_SASL_PASSWORD=your-producer-sasl-password
